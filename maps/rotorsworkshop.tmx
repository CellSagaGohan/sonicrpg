<?xml version="1.0" encoding="UTF-8"?>
<map version="1.0" tiledversion="1.1.5" orientation="orthogonal" renderorder="right-down" width="25" height="23" tilewidth="32" tileheight="32" infinite="0" nextobjectid="26">
 <properties>
  <property name="onload" type="file" value="actions/rotorsworkshop.lua"/>
  <property name="regionName">Rotor's
Workshop</property>
 </properties>
 <tileset firstgid="1" name="knotholehut" tilewidth="32" tileheight="32" tilecount="812" columns="29">
  <image source="../art/tiles/knotholehutinterior.png" trans="000000" width="950" height="914"/>
 </tileset>
 <tileset firstgid="813" source="knothole.tsx"/>
 <tileset firstgid="4297" source="robotropolis.tsx"/>
 <tileset firstgid="7797" source="forest2.tsx"/>
 <tileset firstgid="12972" source="knotholeindoors.tsx"/>
 <layer name="floor" width="25" height="23">
  <data encoding="csv">
0,0,0,13437,13438,13437,13438,13437,13438,13435,13436,13435,13436,13435,13436,13439,13440,13439,13440,13439,13440,0,0,0,0,
0,0,0,13437,13438,13437,13438,13437,13438,13435,13436,13435,13436,13435,13436,13439,13440,0,0,13439,13440,0,0,0,0,
0,0,0,13437,13438,13437,13438,13437,13438,13382,13383,13382,13383,13382,13383,13439,13440,13439,13440,13439,13440,0,0,0,0,
0,0,0,13437,13438,13437,13438,13437,13438,13435,13436,13435,13436,13435,13436,13439,13440,13439,13440,13439,13440,0,0,0,0,
0,0,0,13437,13438,13437,13438,13490,13491,13488,13489,13488,13489,13488,13489,13492,13493,13439,13440,13439,13440,0,0,0,0,
0,0,0,13437,13438,13490,13491,13543,13544,13541,13542,13541,13542,13541,13542,13545,13546,13492,13493,13439,13440,0,0,0,0,
0,0,0,13490,13491,13543,13544,13596,13597,5387,5387,5387,5387,5387,5387,13598,13599,13545,13546,13492,13493,0,0,0,0,
0,0,0,13543,13544,13596,13597,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,13598,13599,13545,13546,0,0,0,0,
0,0,0,13596,13597,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,13598,13599,0,0,0,0,
0,0,0,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,0,0,0,0,
0,0,0,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,0,0,0,0,
0,0,0,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,0,0,0,0,
0,0,0,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,0,0,0,0,
0,0,0,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,0,0,0,0,
0,0,0,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,0,0,0,0,
0,0,0,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,0,0,0,0,
0,0,0,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,0,0,0,0,
0,0,0,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,0,0,0,0,
0,0,0,0,0,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5456,5457,0,0,0,0,
0,0,0,0,0,0,0,5387,5387,5387,5387,5387,5387,5387,5387,5387,5387,5456,5457,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,5387,5387,5387,5387,5387,5387,5456,5457,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
</data>
 </layer>
 <layer name="above" width="25" height="23">
  <data encoding="csv">
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,13601,13602,13603,13604,13605,13606,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,13654,13655,13656,13657,13658,13659,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,13707,13708,13709,13710,13711,13712,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,13760,13761,13762,13763,13764,13765,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,13815,13816,13817,13818,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,5452,5453,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,5452,5453,0,0,0,0,0,0,0,0,0,0,5458,5459,0,0,0,0,0,0,
0,0,0,5452,5453,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5458,5459,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14130,14130,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14183,14183,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14183,14183,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14183,14183,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14183,14183,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14183,14183,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14183,14183,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14129,14129,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14182,14182,0,0,0,0,
0,0,0,5454,5455,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,5454,5455,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,5454,5455,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
</data>
 </layer>
 <layer name="above2" width="25" height="23">
  <data encoding="csv">
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,13813,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,13866,13867,13868,13869,13870,13871,13872,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,13919,13920,13921,13922,13923,13924,13925,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,13972,13973,13974,13975,13976,13977,13978,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,14025,14026,14027,14028,14029,14030,14031,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,14080,14081,14082,14083,14084,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
</data>
 </layer>
 <objectgroup name="objects">
  <object id="4" name="Door" type="Door" gid="6607" x="352" y="704" width="64" height="32">
   <properties>
    <property name="align" value="bottom_left"/>
    <property name="alignOffsetX" type="float" value="-20"/>
    <property name="ghost" type="bool" value="true"/>
    <property name="key" value="down"/>
    <property name="orientation" value="up"/>
    <property name="scene" type="file" value="knothole.lua"/>
    <property name="spawn_point" value="WorkshopDoor"/>
    <property name="sprite" type="file" value="../art/sprites/rotordoor.png"/>
   </properties>
  </object>
  <object id="21" name="Rotor" type="BasicNPC" gid="4333" x="320" y="448" width="96" height="64">
   <properties>
    <property name="align" value="bottom_center"/>
    <property name="alignOffsetX" type="float" value="25"/>
    <property name="defaultAnim" value="idledown"/>
    <property name="ghost" type="bool" value="false"/>
    <property name="notColliding">return function(self, player)
    if math.abs(self.x - player.x) &lt; math.abs(self.y - player.y) then
        if player.y &gt; self.y then
            self.sprite:setAnimation(&quot;idledown&quot;)
        else
            self.sprite:setAnimation(&quot;idleup&quot;)
        end
    else
        if player.x &gt; self.x then
            self.sprite:setAnimation(&quot;idleright&quot;)
        else
            self.sprite:setAnimation(&quot;idleleft&quot;)
        end
    end
end</property>
    <property name="onInteract">local Serial = require &quot;actions/Serial&quot;
local Do = require &quot;actions/Do&quot;
local MessageBox = require &quot;actions/MessageBox&quot;

return function(self)
    local playername = GameState.party[GameState.leader].altName
    return Serial {
        MessageBox {
            message = &quot;Rotor: Hey &quot;..playername..&quot;! {p30}Got any items you want me to look at?&quot;,
            blocking = true
        },
        Do(function()
            self.scene.player.hidekeyhints[tostring(self)] = nil
        end)
    }
end</property>
    <property name="sprite" type="file" value="../art/sprites/rotor.png"/>
   </properties>
  </object>
  <object id="22" name="Spawn 1" type="Player" gid="4333" x="352" y="672" width="64" height="32">
   <properties>
    <property name="orientation" value="up"/>
   </properties>
  </object>
  <object id="23" name="Mine" type="BasicNPC" gid="4333" x="576" y="352" width="64" height="64">
   <properties>
    <property name="align" value="bottom_left"/>
    <property name="alignOffsetX" type="float" value="48"/>
    <property name="ghost" type="bool" value="true"/>
    <property name="onInteract">local Serial = require &quot;actions/Serial&quot;
local Do = require &quot;actions/Do&quot;
local MessageBox = require &quot;actions/MessageBox&quot;
local Menu = require &quot;actions/Menu&quot;
local BlockPlayer = require &quot;actions/BlockPlayer&quot;

local Transform = require &quot;util/Transform&quot;
local Layout = require &quot;util/Layout&quot;

return function(self)
    return BlockPlayer {
        MessageBox {
            message = &quot;Rotor: That's a Mine! {p30}It can deal damage to even the toughest bots...&quot;
        },
        Menu {
            layout = Layout {
                {Layout.Text(&quot;Take Mine?&quot;), selectable = false},
                {Layout.Text(&quot;Yes&quot;), choose = function(menu)
                    menu:close()
                    GameState:grantItem(require(&quot;data/items/Mine&quot;), 1)
                    self.scene:run {
                        menu,
                        Do(function() self:remove() end),
                        MessageBox {
                            message = &quot;You received a Mine!&quot;,
                            blocking = true
                        }
                    }
                end},
                {Layout.Text(&quot;No&quot;), choose = function(menu) menu:close() end},
            },
            cancellable = true,
            transform = Transform(love.graphics.getWidth()/2, love.graphics.getHeight()/2 + 30),
            selectedRow = 2
        }
    }
end</property>
    <property name="sprite" type="file" value="../art/sprites/mine.png"/>
   </properties>
  </object>
  <object id="24" name="WaterBalloon" type="BasicNPC" gid="4333" x="576" y="448" width="64" height="64">
   <properties>
    <property name="align" value="bottom_left"/>
    <property name="alignOffsetX" type="float" value="32"/>
    <property name="ghost" type="bool" value="true"/>
    <property name="onInteract">local Serial = require &quot;actions/Serial&quot;
local Do = require &quot;actions/Do&quot;
local MessageBox = require &quot;actions/MessageBox&quot;
local Menu = require &quot;actions/Menu&quot;
local BlockPlayer = require &quot;actions/BlockPlayer&quot;

local Transform = require &quot;util/Transform&quot;
local Layout = require &quot;util/Layout&quot;

return function(self)
    return BlockPlayer {
        MessageBox {
            message = &quot;Rotor: That's a Water Balloon! {p30}Surprisingly effective against Swatbutts!&quot;
        },
        Menu {
            layout = Layout {
                {Layout.Text(&quot;Take Water Balloon?&quot;), selectable = false},
                {Layout.Text(&quot;Yes&quot;), choose = function(menu)
                    menu:close()
                    GameState:grantItem(require(&quot;data/items/WaterBalloon&quot;), 1)
                    self.scene:run {
                        menu,
                        Do(function() self:remove() end),
                        MessageBox {
                            message = &quot;You received a Water Balloon!&quot;,
                            blocking = true
                        }
                    }
                end},
                {Layout.Text(&quot;No&quot;), choose = function(menu) menu:close() end},
            },
            cancellable = true,
            transform = Transform(love.graphics.getWidth()/2, love.graphics.getHeight()/2 + 30),
            selectedRow = 2
        }
    }
end</property>
    <property name="sprite" type="file" value="../art/sprites/blueballoon.png"/>
   </properties>
  </object>
 </objectgroup>
 <layer name="Collision" width="25" height="23" visible="0">
  <data encoding="csv">
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,13278,13278,13278,13278,13278,13278,13278,13278,13278,13278,13278,0,0,0,0,0,0,0,
0,0,0,0,0,13278,13278,13278,0,0,0,0,13278,13278,13278,13278,13278,13278,13278,0,0,0,0,0,0,
0,0,0,13278,13278,13278,0,0,0,0,0,0,13278,13278,13278,13278,13278,13278,13278,13278,13278,0,0,0,0,
0,0,13278,13278,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,13278,13278,0,0,0,
0,0,13278,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,13278,13278,13278,13278,0,0,0,
0,0,13278,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,13278,13278,13278,13278,0,0,0,
0,0,13278,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,13278,13278,13278,13278,0,0,0,
0,0,13278,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,13278,13278,13278,13278,0,0,0,
0,0,13278,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,13278,13278,13278,13278,0,0,0,
0,0,13278,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,13278,13278,13278,13278,0,0,0,
0,0,13278,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,13278,13278,13278,13278,0,0,0,
0,0,13278,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,13278,13278,13278,13278,0,0,0,
0,0,13278,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,13278,13278,13278,13278,0,0,0,
0,0,13278,13278,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,13278,13278,0,0,0,
0,0,0,13278,13278,13278,0,0,0,0,0,0,0,0,0,0,0,0,13278,13278,13278,0,0,0,0,
0,0,0,0,0,13278,13278,13278,0,0,0,0,0,0,0,0,13278,13278,13278,0,0,0,0,0,0,
0,0,0,0,0,0,0,13278,13278,13278,13278,13278,13278,13278,13278,13278,13278,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
</data>
 </layer>
 <layer name="BunnyExtCollision" width="25" height="23" visible="0">
  <data encoding="csv">
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
</data>
 </layer>
</map>
